{"version":3,"file":"Myschool.min.js","sources":["../src/Myschool.js"],"sourcesContent":["/**\n * @module theme_liteap/Myschool\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/* eslint-env browser */\n/* eslint \"max-len\": [\"error\", { \"code\": 132 }] */\n/* eslint curly: [\"error\", \"all\"] */\n/* eslint no-undef: \"off\" */\n/* eslint jsdoc/require-jsdoc: \"off\" */\n\ndefine([], function() {\n  'use strict';\n\n  /**\n   * Apply .scrolled class to body when scrolling.\n   */\n  function toggleScrolled() {\n    const body = document.querySelector('body');\n    const header = document.querySelector('#header');\n\n    if (!header) {\n      return;\n    }\n\n    const hasSticky = header.classList.contains('scroll-up-sticky') ||\n      header.classList.contains('sticky-top') ||\n      header.classList.contains('fixed-top');\n\n    if (!hasSticky) {\n      return;\n    }\n\n    if (window.scrollY > 100) {\n      body.classList.add('scrolled');\n    } else {\n      body.classList.remove('scrolled');\n    }\n  }\n\n  /**\n   * Initialize scroll behavior.\n   */\n  function initScroll() {\n    document.addEventListener('scroll', toggleScrolled);\n    window.addEventListener('load', toggleScrolled);\n  }\n\n  /**\n   * Initialize mobile navigation toggle.\n   */\n  function initMobileNav() {\n    const mobileNavToggleBtn = document.querySelector('.mobile-nav-toggle');\n\n    function mobileNavToggle() {\n      document.body.classList.toggle('mobile-nav-active');\n      if (mobileNavToggleBtn) {\n        mobileNavToggleBtn.classList.toggle('bi-list');\n        mobileNavToggleBtn.classList.toggle('bi-x');\n      }\n    }\n\n    if (mobileNavToggleBtn) {\n      mobileNavToggleBtn.addEventListener('click', mobileNavToggle);\n    }\n\n    document.querySelectorAll('#navmenu a').forEach(link => {\n      link.addEventListener('click', () => {\n        if (document.body.classList.contains('mobile-nav-active')) {\n          mobileNavToggle();\n        }\n      });\n    });\n\n    document.querySelectorAll('.navmenu .toggle-dropdown').forEach(toggle => {\n      toggle.addEventListener('click', e => {\n        e.preventDefault();\n        const parent = toggle.parentNode;\n        const next = parent.nextElementSibling;\n        parent.classList.toggle('active');\n        if (next) {\n          next.classList.toggle('dropdown-active');\n        }\n        e.stopImmediatePropagation();\n      });\n    });\n  }\n\n  /**\n   * Initialize preloader removal.\n   */\n  function initPreloader() {\n    const preloader = document.querySelector('#preloader');\n    if (preloader) {\n      window.addEventListener('load', () => {\n        preloader.remove();\n      });\n    }\n  }\n\n  /**\n   * Initialize scroll-top button.\n   */\n  function initScrollTop() {\n    const scrollTop = document.querySelector('.scroll-top');\n\n    function toggleScrollTop() {\n      if (!scrollTop) {\n        return;\n      }\n      if (window.scrollY > 100) {\n        scrollTop.classList.add('active');\n      } else {\n        scrollTop.classList.remove('active');\n      }\n    }\n\n    if (scrollTop) {\n      scrollTop.addEventListener('click', e => {\n        e.preventDefault();\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n      });\n    }\n\n    window.addEventListener('load', toggleScrollTop);\n    document.addEventListener('scroll', toggleScrollTop);\n  }\n\n  /**\n   * Initialize Swiper sliders.\n   */\n  function initSwiper() {\n    document.querySelectorAll('.init-swiper').forEach(swiperElement => {\n      const configElement = swiperElement.querySelector('.swiper-config');\n      if (!configElement) {\n        return;\n      }\n\n      let config;\n      try {\n        config = JSON.parse(configElement.textContent.trim());\n      } catch (err) {\n        // console.error('Invalid Swiper config JSON', err);\n        return;\n      }\n\n      if (swiperElement.classList.contains('swiper-tab')) {\n        if (window.initSwiperWithCustomPagination) {\n          window.initSwiperWithCustomPagination(swiperElement, config);\n        }\n      } else if (window.Swiper) {\n        new window.Swiper(swiperElement, config); // eslint-disable-line no-new\n      }\n    });\n  }\n\n  /**\n   * Initialize external libraries (PureCounter, GLightbox).\n   */\n  function initExternalLibs() {\n    if (window.PureCounter) {\n      // eslint-disable-next-line no-new\n      new window.PureCounter();\n    }\n\n    if (window.GLightbox) {\n      window.GLightbox({ selector: '.glightbox' });\n    }\n  }\n\n  /**\n   * Initialize everything.\n   */\n  function init() {\n    initScroll();\n    initMobileNav();\n    initPreloader();\n    initScrollTop();\n    initSwiper();\n    initExternalLibs();\n  }\n\n  return {\n    init: init\n  };\n});\n"],"names":["define","toggleScrolled","body","document","querySelector","header","classList","contains","window","scrollY","add","remove","init","addEventListener","mobileNavToggleBtn","mobileNavToggle","toggle","querySelectorAll","forEach","link","e","preventDefault","parent","parentNode","next","nextElementSibling","stopImmediatePropagation","initMobileNav","preloader","initPreloader","scrollTop","toggleScrollTop","scrollTo","top","behavior","initScrollTop","swiperElement","configElement","config","JSON","parse","textContent","trim","err","initSwiperWithCustomPagination","Swiper","PureCounter","GLightbox","selector"],"mappings":";;;;AAWAA,OAAM,sBAAC,GAAI,WAMT,SAASC,iBACP,MAAMC,KAAOC,SAASC,cAAc,QAC9BC,OAASF,SAASC,cAAc,WAEtC,IAAKC,OACH,QAGgBA,OAAOC,UAAUC,SAAS,qBAC1CF,OAAOC,UAAUC,SAAS,eAC1BF,OAAOC,UAAUC,SAAS,gBAMxBC,OAAOC,QAAU,IACnBP,KAAKI,UAAUI,IAAI,YAEnBR,KAAKI,UAAUK,OAAO,YAE1B,CAgJA,MAAO,CACLC,KAVF,WAjIET,SAASU,iBAAiB,SAAUZ,gBACpCO,OAAOK,iBAAiB,OAAQZ,gBAMlC,WACE,MAAMa,mBAAqBX,SAASC,cAAc,sBAElD,SAASW,kBACPZ,SAASD,KAAKI,UAAUU,OAAO,qBAC3BF,qBACFA,mBAAmBR,UAAUU,OAAO,WACpCF,mBAAmBR,UAAUU,OAAO,QAExC,CAEIF,oBACFA,mBAAmBD,iBAAiB,QAASE,iBAG/CZ,SAASc,iBAAiB,cAAcC,QAAQC,OAC9CA,KAAKN,iBAAiB,QAAS,KACzBV,SAASD,KAAKI,UAAUC,SAAS,sBACnCQ,sBAKNZ,SAASc,iBAAiB,6BAA6BC,QAAQF,SAC7DA,OAAOH,iBAAiB,QAASO,IAC/BA,EAAEC,iBACF,MAAMC,OAASN,OAAOO,WAChBC,KAAOF,OAAOG,mBACpBH,OAAOhB,UAAUU,OAAO,UACpBQ,MACFA,KAAKlB,UAAUU,OAAO,mBAExBI,EAAEM,8BAGR,CAyFEC,GApFF,WACE,MAAMC,UAAYzB,SAASC,cAAc,cACrCwB,WACFpB,OAAOK,iBAAiB,OAAQ,KAC9Be,UAAUjB,UAGhB,CA8EEkB,GAzEF,WACE,MAAMC,UAAY3B,SAASC,cAAc,eAEzC,SAAS2B,kBACFD,YAGDtB,OAAOC,QAAU,IACnBqB,UAAUxB,UAAUI,IAAI,UAExBoB,UAAUxB,UAAUK,OAAO,UAE/B,CAEImB,WACFA,UAAUjB,iBAAiB,QAASO,IAClCA,EAAEC,iBACFb,OAAOwB,SAAS,CAAEC,IAAK,EAAGC,SAAU,aAIxC1B,OAAOK,iBAAiB,OAAQkB,iBAChC5B,SAASU,iBAAiB,SAAUkB,gBACtC,CAmDEI,GA7CAhC,SAASc,iBAAiB,gBAAgBC,QAAQkB,gBAChD,MAAMC,cAAgBD,cAAchC,cAAc,kBAClD,IAAKiC,cACH,OAGF,IAAIC,OACJ,IACEA,OAASC,KAAKC,MAAMH,cAAcI,YAAYC,OAC/C,CAAC,MAAOC,KAEP,MACF,CAEIP,cAAc9B,UAAUC,SAAS,cAC/BC,OAAOoC,gCACTpC,OAAOoC,+BAA+BR,cAAeE,QAE9C9B,OAAOqC,QAChB,IAAIrC,OAAOqC,OAAOT,cAAeE,UASjC9B,OAAOsC,aAET,IAAItC,OAAOsC,YAGTtC,OAAOuC,WACTvC,OAAOuC,UAAU,CAAEC,SAAU,cAcjC,EAKF"}